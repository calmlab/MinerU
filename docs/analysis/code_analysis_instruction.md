# Top-down 코드분석서 작성 지시사항

## **1. 문서 목적과 원칙**
- **목적**: 실제 코드 구현의 핵심 로직을 pseudo code로 추상화하여 시스템 동작 원리 파악
- **원칙**: 코어 로직 중심, 간결한 설명, 실제 구현 기반
- **단계별 진행**: 한 번에 1단계(depth)씩만 작성

## **2. Pseudo Code 작성 규칙** 

### **2.1 코드블럭 형식 (절대 준수)**
- **시작**: 반드시 ```로 시작
- **종료**: 반드시 ```로 종료
- **형식 유지**: 트리 구조의 코드블럭 형식을 절대 망가뜨리지 않음

### **2.2 표기 방식**
- **노드명**: "비즈니스 로직 설명 (실제 코드 파일명/함수명())"
- **트리 구조**: ├── └── 기호로 표현, 들여쓰기로 depth 표현
- **조건문**: "조건문: 판단 내용 (구체적 조건식)" 형태로 명시
- **루프**: "루프: 반복 내용 (구체적 반복 구조)" 형태로 명시

### **2.3 추상화 수준**
- **핵심 로직 중심**: 비즈니스 로직의 핵심 흐름만 기술
- **구현 세부사항 제외**: UI 세부사항, 스타일링, 애니메이션 등은 제외
- **데이터 플로우 중심**: 입력→변환→출력의 데이터 처리 과정에 집중
- **CRUD 로직 우선**: 데이터베이스 연산, API 호출, 상태 변경 등 핵심 기능 우선

### **2.4 메서드 분리 기준**
- **복잡한 로직**: 의미 단위별로 별도 함수로 분리 표현
- **재사용 함수**: 공통 로직은 독립 함수로 분리
- **DB/API 로직**: 외부 시스템 연동은 별도 메서드로 분리
- **검증/변환**: 데이터 처리는 보조 함수로 분리

## **3. 노드 설명 작성 원칙**

### **3.1 코어 로직 노드**
다음 4개 항목으로 상세 기술:
- **맥락**: 상위 노드에서의 역할
- **입력**: 노드 레벨에서 받는 모든 입력
- **출력**: 노드 레벨에서 생성하는 모든 출력  
- **상세설명**: 핵심 기술적 세부사항

### **3.2 비코어 로직 노드**
**간결한 설명**만 추가:
- **한 줄 설명**: 노드의 역할과 핵심 동작
- **핵심 포인트**: 특별히 주목할 기술적 요소 (선택사항)

### **3.3 코어 로직 판단 기준**
**코어 로직**:
- 시스템의 핵심 비즈니스 로직
- 복잡한 알고리즘이나 제어 흐름
- 외부 시스템과의 중요한 상호작용
- 데이터 변환의 핵심 과정
- 예외 처리나 오류 복구 로직

**비코어 로직**:
- 단순한 설정이나 초기화
- 직관적인 데이터 전달
- 표준적인 UI 컴포넌트 처리
- 간단한 유틸리티 함수 호출

## **4. 작성 시 주의사항**

### **4.1 절대 금지**
- 코드블럭 형식 파괴
- 요청 없는 상위 노드 수정
- 뻔한 내용의 과도한 설명
- 코드 그대로 옮겨 적기

### **4.2 필수 확인**
- **실제 코드 확인**: pseudo code에 언급된 파일/함수가 실제 존재하는지 확인
- **로직 정확성**: 실제 구현과 pseudo code가 일치하는지 검증
- **핵심 로직 식별**: 코어 로직과 비코어 로직을 정확히 구분

### **4.3 품질 기준**
- pseudo code만으로 실제 시스템 동작을 이해할 수 있는가?
- 코어 로직의 핵심이 명확히 드러나는가?
- 불필요한 설명으로 인해 핵심이 묻히지 않는가?
- 실제 코드와 정확히 매칭되는가?

## **5. 문서 구조**
```
시스템명 (실행 명령어)
├── 핵심 기능 1 (main_function())
│   ├── 세부 로직 1-1 (sub_function_1())
│   └── 세부 로직 1-2 (sub_function_2())
└── 핵심 기능 2 (another_function())
```

**코어 로직 노드**: 4개 항목 상세 기술
**비코어 로직 노드**: 간결한 설명

## **사용법**
1. 실제 코드를 분석하여 핵심 로직 흐름 파악
2. pseudo code로 트리 구조 작성 (1단계씩)
3. 코어/비코어 로직 구분하여 적절한 수준으로 설명
4. 실제 코드와 매칭 확인